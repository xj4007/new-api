# 端口号
# PORT=3000
# 前端基础URL
# FRONTEND_BASE_URL=https://your-frontend-url.com


# 调试相关配置
# 启用pprof
# ENABLE_PPROF=true
# 启用调试模式
# DEBUG=true

# 数据库相关配置
# 数据库连接字符串
# SQL_DSN=user:password@tcp(127.0.0.1:3306)/dbname?parseTime=true
# 日志数据库连接字符串
# LOG_SQL_DSN=user:password@tcp(127.0.0.1:3306)/logdb?parseTime=true
# SQLite数据库路径
# SQLITE_PATH=/path/to/sqlite.db
# 数据库最大空闲连接数
# SQL_MAX_IDLE_CONNS=100
# 数据库最大打开连接数
# SQL_MAX_OPEN_CONNS=1000
# 数据库连接最大生命周期（秒）
# SQL_MAX_LIFETIME=60


# 缓存相关配置
# Redis连接字符串
# REDIS_CONN_STRING=redis://user:password@localhost:6379/0
# 同步频率（单位：秒）
# SYNC_FREQUENCY=60
# 内存缓存启用
# MEMORY_CACHE_ENABLED=true
# 渠道更新频率（单位：秒）
# CHANNEL_UPDATE_FREQUENCY=30
# 批量更新启用
# BATCH_UPDATE_ENABLED=true
# 批量更新间隔（单位：秒）
# BATCH_UPDATE_INTERVAL=5

# 任务和功能配置
# 更新任务启用
# UPDATE_TASK=true

# 对话超时设置
# 所有请求超时时间，单位秒，默认为0，表示不限制
# RELAY_TIMEOUT=0
# 流模式无响应超时时间，单位秒，如果出现空补全可以尝试改为更大值
# STREAMING_TIMEOUT=300

# Gemini 识别图片 最大图片数量
# GEMINI_VISION_MAX_IMAGE_NUM=16

# 会话密钥
# SESSION_SECRET=random_string

# 其他配置
# 生成默认token
# GENERATE_DEFAULT_TOKEN=false
# Cohere 安全设置
# COHERE_SAFETY_SETTING=NONE
# 是否统计图片token
# GET_MEDIA_TOKEN=true
# 是否在非流（stream=false）情况下统计图片token
# GET_MEDIA_TOKEN_NOT_STREAM=false
# 设置 Dify 渠道是否输出工作流和节点信息到客户端
# DIFY_DEBUG=true

# LinuxDo相关配置
LINUX_DO_TOKEN_ENDPOINT=https://connect.linux.do/oauth2/token
LINUX_DO_USER_ENDPOINT=https://connect.linux.do/api/user

# 节点类型
# 如果是主节点则为master
# NODE_TYPE=master

# ============================================================
# 内容审核配置 (Content Moderation)
# ============================================================

# ========== 基础配置 ==========
# 是否启用内容审核 (true/false)
CONTENT_MODERATION_ENABLED=true

# ========== Phase 1: 快速检测模型配置 ==========
# 审核API基础地址 (硅基流动)
MODERATION_API_BASE_URL=https://api.siliconflow.cn

# 审核API密钥
MODERATION_API_KEY=sk-xxx

# Phase 1 审核模型名称
MODERATION_MODEL=zai-org/GLM-4.6

# 审核响应最大Token数
MODERATION_MAX_TOKENS=100

# API调用超时时间（秒）
MODERATION_TIMEOUT=10

# ========== Phase 2: Pro模型复核配置 ==========
# Phase 2 Pro模型名称 (留空则不启用二级审核)
MODERATION_PRO_MODEL=Qwen/Qwen3-Coder-480B-A35B-Instruct

# Phase 2 Pro模型API密钥 (可以和Phase 1相同)
MODERATION_PRO_API_KEY=sk-xx

# Phase 2 Pro模型API基础地址 (留空则使用 MODERATION_API_BASE_URL)
MODERATION_PRO_API_BASE_URL=https://api.siliconflow.cn

# ========== 渠道过滤配置 ==========
# 只对这些渠道ID进行审核（逗号分隔）
# 留空表示审核所有渠道
MODERATION_CHANNEL_IDS=14,17,18

# ========== Session缓存配置 ==========
# 是否启用Session级缓存 (true/false)
MODERATION_SESSION_CACHE_ENABLED=true

# Session缓存过期时间（秒），默认1800秒=30分钟
MODERATION_SESSION_CACHE_TTL=1800

# ========== 内容提取配置 ==========
# 每个消息/系统提示词最大提取字符数
MODERATION_CONTENT_MAX_CHARS=100

# ========== 重试和失败策略配置 ==========
# 审核API最大重试次数（失败N次后根据策略处理）
MODERATION_MAX_RETRIES=1

# 审核失败时是否放行 (true=放行, false=降级到敏感词检测)
MODERATION_FAIL_OPEN=true